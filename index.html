<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>HealthNest - Your Medical History, Secured</title>
  <link rel="stylesheet" href="./Style.css">
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet">
  <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="./Vani.js" defer></script>
  <script src="./script.js" defer></script>
</head>
<body data-theme="light">

  <!-- PRELOADER -->
  <div id="preloader" aria-hidden="true">
    <svg class="logo-animated" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
      <path class="pulse" d="M50,5 C74.85,5 95,25.15 95,50 C95,74.85 74.85,95 50,95 C25.15,95 5,74.85 5,50 C5,25.15 25.15,5 50,5 Z"/>
      <path class="cross" d="M50 30 L50 70 M30 50 L70 50" stroke="white" stroke-width="8" stroke-linecap="round"/>
    </svg>
  </div>

            <nav class="navbar" id="navbar"> 
                <div class="logo">
                    <span class="material-symbols-outlined">health_and_safety</span>
                    HealthNest
                </div>
        
                <div class="nav-links">
                    <a href="#home"><i class="fas fa-home"></i><span data-key="navHome">Home</span></a>
                    <a href="#features"><i class="fas fa-star"></i><span data-key="featuresTitle">Features</span></a>
                    <a href="#dashboard"><i class="fas fa-chart-line"></i><span data-key="navDashboard">Dashboard</span></a>
                    <a href="#appointments"><i class="fas fa-calendar-alt"></i><span>Appointments</span></a>
                    <a href="#queue"><i class="fas fa-list"></i><span>Queue</span></a>
                    <a href="#admin" id="adminLink" style="display:none;"><i class="fas fa-cog"></i><span>Admin</span></a>
                    <a href="#faq"><i class="fas fa-question-circle"></i><span data-key="faqTitle">FAQ</span></a>
                </div>
        
                <div class="search-container">
                    <input type="search" id="search-bar-input" class="search-bar" placeholder="Search features, FAQs...">
                </div>
      
                <div class="nav-buttons">
                    <button class="login-btn" onclick="openModal('loginModal')" data-key="navLogIn" aria-haspopup="dialog">Log In</button>
                    <button class="signup-btn" onclick="openModal('signupModal')" data-key="navSignUp" aria-haspopup="dialog">Sign Up</button>
                </div>
                <div id="user-profile-icon" style="display:none;">
                    <div class="profile-avatar">
                        <span id="user-initials"></span>
                        <img id="user-avatar-img" src="" alt="User Avatar" style="display:none;">
                    </div>
                </div>
            </nav>

  <!-- HERO SECTION -->
  <header class="hero">
    <div class="hero-content">
      <h1 data-key="heroTitle">Your Health, In Your Hands.</h1>
      <p data-key="heroSubtitle">Save your entire medical history in one secure place and access it anytime, anywhere.</p>
      <a href="#" class="cta-button" data-key="heroCTA" onclick="openModal('signupModal')">Get Started Today</a>
    </div>
  </header>

  <main>
    <!-- PROFILE SECTION -->
    <section id="user-profile" class="section">
      <h2 class="section-title" data-key="profileTitle">Your Profile</h2>
      <div class="profile-card">
        <div class="profile-pic">
          <i id="profilePicIcon" class="fas fa-user"></i>
        </div>
        <div class="profile-details">
          <h3 data-key="profileName">Ayush Harinkhere</h3>
          <p id="profileEmail" class="user-email">ayushharinkhere2005@email.com</p>
          <div class="profile-meta">
            <div class="meta-item"><span data-key="profileAgeLabel">Age</span><strong id="profileAgeValue">20 years</strong></div>
            <div class="meta-item"><span>Gender</span><strong id="profileGender">Male</strong></div>
            <div class="meta-item"><span data-key="profileHeightLabel">Height</span><strong id="profileHeightValue">175 cm</strong></div>
            <div class="meta-item"><span data-key="profileWeightLabel">Weight</span><strong id="profileWeightValue">52 kg</strong></div>
          </div>
          <div class="profile-actions">
            <button class="cta-button" onclick="openModal('editProfileModal')"><i class="fas fa-edit"></i> Edit Profile</button>
          </div>
        </div>
      </div>
    </section>

    <!-- FEATURES SECTION -->
    <section id="features" class="section">
      <h2 class="section-title" data-key="featuresTitle">Key Features</h2>
      <div class="features-container">
        <div class="features-grid" id="features-grid">
          <div class="feature-card" data-searchable="health timeline">
            <span class="material-symbols-outlined">timeline</span>
            <h3 data-key="feature1Title">Health Timeline</h3>
            <p data-key="feature1Desc">View every health event in chronological order.</p>
          </div>
          <div class="feature-card" data-searchable="document upload">
            <span class="material-symbols-outlined">upload_file</span>
            <h3 data-key="feature2Title">Document Upload</h3>
            <p data-key="feature2Desc">Securely upload all your medical reports and prescriptions.</p>
          </div>
          <div class="feature-card" data-searchable="share with doctor">
            <span class="material-symbols-outlined">share</span>
            <h3 data-key="feature3Title">Share with Doctor</h3>
            <p data-key="feature3Desc">Give doctors secure permission to view your health history.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- DASHBOARD SECTION -->
    <section id="dashboard" class="section">
      <h2 class="section-title" data-key="navDashboard">Your Health Dashboard</h2>
      <div class="dashboard-grid">
        <div id="bp-card" class="dashboard-card">
          <h4><i class="fas fa-heartbeat" style="color: #e74c3c;"></i> Blood Pressure</h4>
          <p><span class="value">128/80</span><span class="unit">mmHg</span></p>
        </div>
        <div id="sugar-card" class="dashboard-card">
          <h4><i class="fas fa-tint" style="color: #f1c40f;"></i> Sugar Level</h4>
          <p><span class="value">95</span><span class="unit">mg/dL</span></p>
        </div>
        <div id="hr-card" class="dashboard-card">
          <h4><i class="fas fa-chart-line" style="color: #3498db;"></i> Heart Rate</h4>
          <p><span class="value">80</span><span class="unit">BPM</span></p>
        </div>
        <div id="bmi-card" class="dashboard-card">
          <h4><i class="fas fa-weight" style="color: #2ecc71;"></i> BMI</h4>
          <p><span class="value">23.5</span><span class="unit">kg/m²</span></p>
        </div>
      </div>
      <div class="dashboard-container" style="margin-top: 2rem;">
        <canvas id="healthChart" aria-label="Health metrics chart" role="img"></canvas>
      </div>
    </section>

    <!-- APPOINTMENTS SECTION -->
    <section id="appointments" class="section">
      <h2 class="section-title">Book Your Appointment</h2>
      <div class="appointment-info">
        <p>Schedule with our experienced doctors and specialists.</p>
        <button class="cta-button" onclick="openModal('appointmentModal')"><i class="fas fa-calendar-plus"></i> Book Appointment</button>
      </div>
      <div id="appointmentsList" style="margin-top: 2rem;">
        <h3>Your Appointments</h3>
        <div class="appointment-cards" id="appointmentCardsContainer"></div>
      </div>
    </section>

    <!-- QUEUE SECTION -->
    <section id="queue" class="section">
      <h2 class="section-title">Hospital Queue & Status</h2>
      <div class="queue-info-container">
        <div class="queue-card">
          <h3>Your Queue Status</h3>
          <div class="queue-status">
            <p>Token: <span id="queueToken" class="token-number">--</span></p>
            <p>Position: <span id="queuePosition" class="position-number">--</span> in queue</p>
            <p>Estimated Wait: <span id="waitTime">--</span></p>
          </div>
        </div>
        <div class="queue-card">
          <h3>Hospital Crowd Meter</h3>
          <div class="crowd-meter">
            <div class="crowd-bar">
              <div class="crowd-fill" id="crowdLevel" style="width: 45%;"></div>
            </div>
            <p>Current Occupancy: <span id="crowdPercentage">45</span>%</p>
          </div>
        </div>
      </div>
      <div class="queue-display" style="margin-top: 2rem;">
        <h3>Live Queue Display</h3>
        <div class="queue-board">
          <div class="current-token">Now Serving: <span id="currentToken">A001</span></div>
          <div class="next-tokens">
            <h4>Next to be called:</h4>
            <ul id="nextTokensList" class="next-tokens-list">
              <li>A002</li>
              <li>A003</li>
              <li>A004</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- DOCTOR AVAILABILITY SECTION -->
    <section id="doctors" class="section">
      <h2 class="section-title">Doctor Availability</h2>
      <div class="doctors-grid" id="doctorsGrid"></div>
    </section>

    <!-- FAQ SECTION -->
    <section id="faq" class="section">
      <h2 class="section-title" data-key="faqTitle">Frequently Asked Questions</h2>
      <div class="faq-accordion">
        <div class="faq-item" data-searchable="what is healthnest">
          <button class="faq-question" aria-expanded="false">
            <span data-key="faq1Question">What is HealthNest?</span>
            <span class="material-symbols-outlined">expand_more</span>
          </button>
          <div class="faq-answer">
            <p data-key="faq1Answer">HealthNest is a digital platform where you can securely store all your medical information.</p>
          </div>
        </div>
        <div class="faq-item" data-searchable="is data secure">
          <button class="faq-question" aria-expanded="false">
            <span data-key="faq2Question">Is my data secure?</span>
            <span class="material-symbols-outlined">expand_more</span>
          </button>
          <div class="faq-answer">
            <p data-key="faq2Answer">Yes, we use highest standards with end-to-end encryption. Only you can see your data.</p>
          </div>
        </div>
        <div class="faq-item" data-searchable="how to use">
          <button class="faq-question" aria-expanded="false">
            <span data-key="faq3Question">How can I use it?</span>
            <span class="material-symbols-outlined">expand_more</span>
          </button>
          <div class="faq-answer">
            <p data-key="faq3Answer">Sign up and start adding your health information. Access it anytime to show your doctor.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- NEWSLETTER SECTION -->
    <section class="newsletter">
      <h2 data-key="newsletterTitle">Stay Updated!</h2>
      <p data-key="newsletterSubtitle">Subscribe to our newsletter for latest news and updates.</p>
      <form onsubmit="handleSubscription(event)">
        <input type="email" placeholder="Your Email" required>
        <button type="submit" class="btn signup-btn">Subscribe</button>
      </form>
    </section>
  </main>

  <!-- FOOTER -->
  <footer id="contact">
    <p>
      <b data-key="footerRights">&copy; 2026 HealthNest. All rights reserved.</b> |
      <a href="#" onclick="openModal('privacyPolicyModal')" data-key="footerPrivacy">Privacy Policy</a> |
      <a href="#" onclick="openModal('termsOfServiceModal')" data-key="footerTerms">Terms of Service</a>
    </p>
    <div class="social-media-links">
      <a href="#" title="Instagram"><i class="fab fa-instagram"></i></a>
      <a href="#" title="Facebook"><i class="fab fa-facebook"></i></a>
      <a href="#" title="YouTube"><i class="fab fa-youtube"></i></a>
      <a href="#" title="Twitter"><i class="fab fa-twitter"></i></a>
    </div>
    <button class="logout-btn" id="logoutBtn"><i class="fas fa-sign-out-alt"></i><span>Logout</span></button>
  </footer>

  <!-- ===== MODALS ===== -->

  <!-- LOGIN MODAL -->
  <div id="loginModal" class="modal-overlay" role="dialog" aria-labelledby="loginModalTitle" aria-modal="true">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="loginModalTitle">Welcome Back!</h2>
        <button class="modal-close-btn" onclick="closeModal('loginModal')">&times;</button>
      </div>
      <form onsubmit="handleLogin(event)">
        <input type="email" class="modal-input" placeholder="Enter your email" required>
        <div class="password-wrapper">
          <input type="password" id="login-password" class="modal-input" placeholder="Enter your password" required>
          <button type="button" class="password-toggle" onclick="togglePasswordVisibility('login-password', this)"><i class="fas fa-eye"></i></button>
        </div>
        <div class="form-options">
          <label><input type="checkbox"> Remember Me</label>
          <a href="#" style="color: var(--primary);">Forgot Password?</a>
        </div>
        <button type="submit" class="cta-button" style="width:100%;">Log In</button>
      </form>
    </div>
  </div>

  <!-- SIGNUP MODAL -->
  <div id="signupModal" class="modal-overlay" role="dialog" aria-labelledby="signupModalTitle" aria-modal="true">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="signupModalTitle">Create Your Account</h2>
        <button class="modal-close-btn" onclick="closeModal('signupModal')">&times;</button>
      </div>
      <form onsubmit="handleLogin(event)">
        <input type="text" class="modal-input" placeholder="Username" required>
        <input type="email" class="modal-input" placeholder="Your Email" required>
        <div class="password-wrapper">
          <input type="password" id="signup-password" class="modal-input" placeholder="Create Password" required>
          <button type="button" class="password-toggle" onclick="togglePasswordVisibility('signup-password', this)"><i class="fas fa-eye"></i></button>
        </div>
        <div class="password-wrapper">
          <input type="password" id="signup-confirm-password" class="modal-input" placeholder="Confirm Password" required>
          <button type="button" class="password-toggle" onclick="togglePasswordVisibility('signup-confirm-password', this)"><i class="fas fa-eye"></i></button>
        </div>
        <button type="submit" class="cta-button" style="width:100%; margin-top: 1rem;">Sign Up</button>
      </form>
    </div>
  </div>

  <!-- EDIT PROFILE MODAL -->
  <div id="editProfileModal" class="modal-overlay" role="dialog" aria-labelledby="editProfileModalTitle" aria-modal="true">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="editProfileModalTitle" data-key="editProfileTitle">Edit Your Profile</h2>
        <button class="modal-close-btn" onclick="closeModal('editProfileModal')">&times;</button>
      </div>
      <label for="editProfilePic">Profile Picture</label>
      <input type="file" id="editProfilePic" class="modal-input" accept="image/*" onchange="previewProfilePic(event)">
      <div class="form-grid">
        <div>
          <label for="editName">Full Name</label>
          <input type="text" id="editName" class="modal-input" placeholder="Your full name" value="Ayush Harinkhere">
        </div>
        <div>
          <label for="editEmail">Email Address</label>
          <input type="email" id="editEmail" class="modal-input" placeholder="your.email@example.com" value="ayushharinkhere2005@email.com">
        </div>
      </div>
      <label for="editDob">Date of Birth</label>
      <input type="date" id="editDob" class="modal-input" value="2005-02-10">
      <label for="editGender">Gender</label>
      <select id="editGender" class="modal-select">
        <option value="Male" selected>Male</option>
        <option value="Female">Female</option>
        <option value="Other">Other</option>
      </select>
      <div class="form-grid">
        <div>
          <label for="editHeight">Height (cm)</label>
          <input type="number" id="editHeight" class="modal-input" value="175">
        </div>
        <div>
          <label for="editWeight">Weight (kg)</label>
          <input type="number" id="editWeight" class="modal-input" value="52">
        </div>
      </div>
      <button class="cta-button" style="width:100%; margin-top: 1rem;" onclick="saveProfile()">Save Changes</button>
    </div>
  </div>

  <!-- APPOINTMENT MODAL -->
  <div id="appointmentModal" class="modal-overlay" role="dialog" aria-labelledby="appointmentTitle" aria-modal="true">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="appointmentTitle">Schedule Appointment</h2>
        <button class="modal-close-btn" onclick="closeModal('appointmentModal')">&times;</button>
      </div>
      <form onsubmit="handleAppointmentBooking(event)">
        <label>Select Doctor</label>
        <select id="doctorSelect" class="modal-input" required>
          <option value="">Choose a doctor...</option>
          <option value="dr-gupta">Dr. Rajesh Gupta - General Physician</option>
          <option value="dr-sharma">Dr. Priya Sharma - Cardiologist</option>
          <option value="dr-patel">Dr. Amit Patel - Dentist</option>
        </select>
        <label>Date</label>
        <input type="date" id="appointmentDate" class="modal-input" required>
        <label>Time Slot</label>
        <div id="timeSlots" class="time-slots-grid"></div>
        <label>Reason</label>
        <textarea class="modal-input" placeholder="Describe your symptoms..." rows="3" required></textarea>
        <button type="submit" class="cta-button" style="width:100%; margin-top: 1rem;">Confirm Appointment</button>
      </form>
    </div>
  </div>

  <!-- PRIVACY POLICY MODAL -->
  <div id="privacyPolicyModal" class="modal-overlay">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Privacy Policy</h2>
        <button class="modal-close-btn" onclick="closeModal('privacyPolicyModal')">&times;</button>
      </div>
      <p>Your privacy is important to us. HealthNest respects your privacy regarding any information we collect from you across our website and online services.</p>
    </div>
  </div>

  <!-- TERMS OF SERVICE MODAL -->
  <div id="termsOfServiceModal" class="modal-overlay">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Terms of Service</h2>
        <button class="modal-close-btn" onclick="closeModal('termsOfServiceModal')">&times;</button>
      </div>
      <p>By accessing HealthNest, you agree to be bound by these terms and conditions. We reserve the right to make changes to our site and these legal notices at any time.</p>
    </div>
  </div>

  <!-- AI CHAT MODAL -->
  <div id="aiChatModal" class="modal-overlay" role="dialog" aria-labelledby="aiChatTitle" aria-modal="true">
    <div class="modal-content" style="max-width: 500px; height: 600px; display: flex; flex-direction: column;">
      <div class="modal-header">
        <h2 id="aiChatTitle">Vani - Health AI Assistant</h2>
        <button class="modal-close-btn" onclick="closeModal('aiChatModal')">&times;</button>
      </div>
      <div id="ai-chat-box" style="flex: 1; overflow-y: auto; padding: 1rem; background: var(--surface-dim); border-radius: 8px; margin-bottom: 1rem; display: flex; flex-direction: column;">
        <!-- Chat messages appear here -->
      </div>
      <form id="ai-chat-input-form" onsubmit="handleAIChat(event)" style="display: flex; gap: 0.5rem;">
        <input type="text" id="ai-chat-input" class="modal-input" placeholder="Ask me anything about your health..." style="flex: 1; margin: 0;">
        <button type="submit" class="cta-button" style="margin: 0; padding: 0.75rem 1.5rem;"><i class="fas fa-paper-plane"></i></button>
        <button type="button" id="ai-voice-btn" class="cta-button" style="margin: 0; padding: 0.75rem 1.5rem;" title="Voice input"><i class="fas fa-microphone"></i></button>
      </form>
    </div>
  </div>

  <!-- TOAST CONTAINER -->
  <div id="toast-container" aria-live="polite" aria-atomic="true"></div>

  <!-- FLOATING BUTTONS -->
  <div id="backButton" onclick="history.back()" title="Go Back"><i class="fas fa-arrow-left"></i></div>
  <div id="scrollUpButton" onclick="scrollToTop()" title="Scroll to Top"><i class="fas fa-angle-double-up"></i></div>
  <div id="settingsButton" onclick="toggleSettings()" title="Settings"><i class="fas fa-sliders-h"></i></div>
  <div id="aiChatButton" onclick="openModal('aiChatModal')" title="Chat with Vani AI" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); cursor: pointer;"><i class="fas fa-comments"></i></div>

  <!-- SETTINGS MENU -->
  <div id="settingsMenu" role="dialog" aria-labelledby="settingsMenuTitle">
    <h1 id="settingsMenuTitle"><b>Settings</b></h1>
    <label for="theme">Theme (Light/Dark)</label>
    <select id="theme" onchange="changeTheme(this.value)">
      <option value="light">Light</option>
      <option value="dark">Dark</option>
    </select>
    <label for="textSize">Website Size</label>
    <select id="textSize" onchange="changeTextSize(this.value)">
      <option value="15px">Small</option>
      <option value="16px" selected>Default</option>
      <option value="17px">Large</option>
      <option value="18px">Extra Large</option>
    </select>
    <label for="language">Language</label>
    <select id="language" onchange="switchLanguage(this.value)">
      <option value="en">English</option>
      <option value="hi">हिंदी</option>
    </select>
    <button onclick="updateAccount()">Update Account</button>
    <button onclick="clearStorage()">Clear Storage</button>
  </div>

</body>
</html>
